<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>綠品 LUPIN 系統門 Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * {
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui,
        "PingFang TC", "Microsoft JhengHei", sans-serif;
    }

    body {
      margin: 0;
      padding: 20px;
      background: #101214;
      color: #f5f5f5;
    }

    h1 {
      margin: 0 0 6px;
      font-size: 24px;
      font-weight: 700;
      letter-spacing: 0.08em;
    }

    .brand-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 215, 128, 0.4);
      font-size: 11px;
      color: #ffd780;
      margin-bottom: 10px;
    }

    .subtitle {
      margin-bottom: 18px;
      color: #b0b3b8;
      font-size: 13px;
    }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 0.9fr);
      gap: 20px;
      align-items: flex-start;
    }

    /* 預覽區卡片 */
    .preview-card {
      background: radial-gradient(circle at top, #1f232a 0, #101214 60%);
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.04);
    }

    .preview-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .preview-title {
      font-size: 15px;
      font-weight: 600;
    }

    .preview-tag {
      font-size: 11px;
      color: #ffd780;
      border-radius: 999px;
      border: 1px solid rgba(255, 215, 128, 0.6);
      padding: 2px 8px;
    }

    .preview-wrapper {
      position: relative;
      width: 100%;
      padding-top: 62%;
      border-radius: 14px;
      overflow: hidden;
      background: #1a1d21;
      box-shadow: inset 0 0 25px rgba(0, 0, 0, 0.65);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* 門扇（使用 panel_mask） */
    .door-layer {
      position: absolute;
      width: 30%;
      aspect-ratio: 1 / 2.04;
      background-size: cover;
      background-position: center;
      -webkit-mask-image: url("masks/panel_mask.png");
      mask-image: url("masks/panel_mask.png");
      -webkit-mask-size: contain;
      mask-size: contain;
      -webkit-mask-repeat: no-repeat;
      mask-repeat: no-repeat;
      -webkit-mask-position: center;
      mask-position: center;
    }

    /* 門框（淺色） */
    .frame-layer {
      position: absolute;
      width: 40%;
      aspect-ratio: 1 / 2.1;
      background-size: cover;
      background-position: center;
      -webkit-mask-image: url("masks/frame_mask2.png");
      mask-image: url("masks/frame_mask2.png");
      -webkit-mask-size: contain;
      mask-size: contain;
      -webkit-mask-repeat: no-repeat;
      mask-repeat: no-repeat;
      -webkit-mask-position: center;
      mask-position: center;
    }

    /* 門框 2（加深 20%） */
    .frame2-layer {
      position: absolute;
      width: 40%;
      aspect-ratio: 1 / 2.1;
      background-size: cover;
      background-position: center;
      -webkit-mask-image: url("masks/frame_mask.png");
      mask-image: url("masks/frame_mask.png");
      -webkit-mask-size: contain;
      mask-size: contain;
      -webkit-mask-repeat: no-repeat;
      mask-repeat: no-repeat;
      -webkit-mask-position: center;
      mask-position: center;
      filter: brightness(0.8);
    }

    .frame2-layer.hidden {
      display: none;
    }

    /* 控制區 */
    .control-card {
      background: linear-gradient(145deg, #181b20, #101214);
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .control-section-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .control-group {
      margin-bottom: 14px;
    }

    .control-label {
      font-size: 12px;
      margin-bottom: 4px;
      color: #d0d3da;
      display: flex;
      justify-content: space-between;
    }

    select {
      width: 100%;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #2c3138;
      font-size: 12px;
      background: #14171b;
      color: #f5f5f5;
      outline: none;
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .chip {
      padding: 4px 10px;
      font-size: 11px;
      border-radius: 999px;
      border: 1px solid #343842;
      cursor: pointer;
      background: #14171b;
      color: #c6cad3;
      user-select: none;
      transition: all 0.15s ease;
      white-space: nowrap;
    }

    .chip:hover {
      border-color: #ffd780;
      color: #ffd780;
    }

    .chip.active {
      border-color: #ffd780;
      background: #ffd780;
      color: #121212;
      box-shadow: 0 0 0 1px rgba(255, 215, 128, 0.2);
    }

    /* 門框 2 toggle */
    .toggle-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 8px 0 4px;
      font-size: 11px;
    }

    .toggle-switch {
      position: relative;
      width: 34px;
      height: 18px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      inset: 0;
      background-color: #2c3138;
      transition: 0.2s;
      border-radius: 999px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 14px;
      width: 14px;
      left: 2px;
      bottom: 2px;
      background-color: #c6cad3;
      transition: 0.2s;
      border-radius: 50%;
    }

    .toggle-switch input:checked + .slider {
      background-color: #ffd780;
    }

    .toggle-switch input:checked + .slider:before {
      transform: translateX(16px);
      background-color: #121212;
    }

    /* 摘要 */
    .summary-card {
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 14px;
      background: radial-gradient(circle at top left, #252932 0, #15181d 55%);
      font-size: 11px;
      line-height: 1.7;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .summary-row {
      display: flex;
      justify-content: space-between;
      gap: 8px;
    }

    .summary-label {
      color: #8f939a;
    }

    .summary-value {
      font-weight: 600;
      text-align: right;
    }

    @media (max-width: 900px) {
      .page {
        grid-template-columns: 1fr;
      }
      .preview-card {
        order: -1;
      }
    }
  </style>
</head>

<body>

  <div class="brand-badge">
    綠品 LUPIN 系統門 | LH 門框 × 門扇搭配 Demo
  </div>

  <h1>門框 × 門扇 × 顏色搭配 Demo</h1>
  <div class="subtitle">選擇 LH 門框色與門扇材質，立即查看配色效果。</div>

  <div class="page">

    <!-- 左側預覽 -->
    <div class="preview-card">
      <div class="preview-header">
        <div class="preview-title">即時預覽</div>
        <div class="preview-tag">LIVE</div>
      </div>

      <div class="preview-wrapper">
        <div id="frameLayer" class="frame-layer"></div>
        <div id="frame2Layer" class="frame2-layer"></div>
        <div id="doorLayer" class="door-layer"></div>
      </div>
    </div>

    <!-- 右側控制 -->
    <div class="control-card">
      
      <div class="control-section-title">配置選擇</div>

      <!-- 門框 -->
      <div class="control-group">
        <div class="control-label">門框顏色（frame_patterns）</div>
        <select id="frameSelect"></select>
        <div class="chip-row" id="frameChips"></div>
      </div>

      <!-- 門框 2 -->
      <div class="toggle-row">
        <span>啟用門框 2（加深 20%）</span>
        <label class="toggle-switch">
          <input type="checkbox" id="frame2Toggle" checked>
          <span class="slider"></span>
        </label>
      </div>

      <!-- 門扇 -->
      <div class="control-group">
        <div class="control-label">門扇材質（panel_patterns）</div>
        <select id="doorSelect"></select>
        <div class="chip-row" id="doorChips"></div>
      </div>

      <!-- 摘要 -->
      <div class="summary-card">
        <div class="summary-row">
          <span class="summary-label">門框</span>
          <span class="summary-value" id="summaryFrame">—</span>
        </div>
        <div class="summary-row">
          <span class="summary-label">門框 2</span>
          <span class="summary-value" id="summaryFrame2">啟用</span>
        </div>
        <div class="summary-row">
          <span class="summary-label">門扇</span>
          <span class="summary-value" id="summaryDoor">—</span>
        </div>
      </div>

    </div>

  </div>

  <script>
    /* --------------------------------------------------
       資料：frame_patterns & panel_patterns
    ----------------------------------------------------- */

    const frameVariants = [
      "LU6001PP","LU6002PP","LU6003PP","LU6004","LU6005","LU6006",
      "LU6007","LU6008","LU6009","LU6010","LU6011","LU6012",
      "LU6013","LU6014","LH6015","LH6016"
    ];

    const doorVariants = [
      "LU6001PP","LU6002PP","LU6003PP","LU6004","LU6005","LU6006",
      "LU6007","LU6008","LU6009","LU6010","LU6011","LU6012",
      "LU6013","LU6014","LH6015","LH6016",
      "FORMICA_0905CY","FORMICA_0921CY","FORMICA_3200CY","FORMICA_9266CY",
      "FORMICA_0860NT","FORMICA_0862NT","FORMICA_0870NT","FORMICA_0871OG",
      "FORMICA_0878OG","FORMICA_0937OG","FORMICA_0939OG","FORMICA_0956D8",
      "FORMICA_1079NT","FORMICA_5968OG","FORMICA_5970OG","FORMICA_6405NT",
      "FORMICA_6407NT","FORMICA_8808OG","FORMICA_8841D8","FORMICA_8843NT",
      "FORMICA_8844NT","FORMICA_8848NT","FORMICA_8849NT","FORMICA_8854NT",
      "FORMICA_8906NT","FORMICA_9222NT","FORMICA_9281NG","FORMICA_9436D8",
      "FORMICA_5875LM","FORMICA_0964PT","FORMICA_1002PT","FORMICA_0995PT"
    ];

    /* --------------------------------------------------
       取得 DOM
    ----------------------------------------------------- */

    const dom = {
      frameSelect: document.getElementById("frameSelect"),
      doorSelect: document.getElementById("doorSelect"),

      frameChips: document.getElementById("frameChips"),
      doorChips: document.getElementById("doorChips"),

      frameLayer: document.getElementById("frameLayer"),
      frame2Layer: document.getElementById("frame2Layer"),
      doorLayer: document.getElementById("doorLayer"),

      frame2Toggle: document.getElementById("frame2Toggle"),

      summaryFrame: document.getElementById("summaryFrame"),
      summaryFrame2: document.getElementById("summaryFrame2"),
      summaryDoor: document.getElementById("summaryDoor")
    };

    /* --------------------------------------------------
       初始化選單 & Chips
    ----------------------------------------------------- */

    function initOptions(list, selectEl, chipContainer, callback) {
      selectEl.innerHTML = "";
      chipContainer.innerHTML = "";

      list.forEach((item, index) => {
        // select option
        const op = document.createElement("option");
        op.value = item;
        op.textContent = item;
        selectEl.appendChild(op);

        // chip
        const c = document.createElement("div");
        c.className = "chip";
        c.dataset.value = item;
        c.textContent = item;
        c.onclick = () => {
          selectEl.value = item;
          callback(item);
          highlightChip(chipContainer, item);
        };
        chipContainer.appendChild(c);

        // 初始選第一個
        if (index === 0) {
          selectEl.value = item;
          c.classList.add("active");
          callback(item);
        }
      });

      selectEl.onchange = e => {
        callback(e.target.value);
        highlightChip(chipContainer, e.target.value);
      };
    }

    function highlightChip(container, value) {
      [...container.children].forEach(c =>
        c.classList.toggle("active", c.dataset.value === value)
      );
    }

    /* --------------------------------------------------
       更新層（門框、門扇）
    ----------------------------------------------------- */

    function updateFrame(code) {
      const url = `frame_patterns/${code}.png`;
      dom.frameLayer.style.backgroundImage = `url("${url}")`;
      dom.frame2Layer.style.backgroundImage = `url("${url}")`;
      dom.summaryFrame.textContent = code;
    }

    function updateDoor(code) {
      const url = `panel_patterns/${code}.png`;
      dom.doorLayer.style.backgroundImage = `url("${url}")`;
      dom.summaryDoor.textContent = code;
    }

    /* --------------------------------------------------
       門框 2 toggle
    ----------------------------------------------------- */

    dom.frame2Toggle.onchange = () => {
      const enabled = dom.frame2Toggle.checked;
      dom.frame2Layer.classList.toggle("hidden", !enabled);
      dom.summaryFrame2.textContent = enabled ? "啟用" : "關閉";
    };

    /* --------------------------------------------------
       初始化
    ----------------------------------------------------- */

    initOptions(frameVariants, dom.frameSelect, dom.frameChips, updateFrame);
    initOptions(doorVariants, dom.doorSelect, dom.doorChips, updateDoor);

    dom.frame2Toggle.checked = true;
  </script>

</body>
</html>
