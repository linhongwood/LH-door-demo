<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>門框 × 門扇 Demo</title>

<style>
  body {
    background: #121416;
    color: white;
    font-family: "Segoe UI", sans-serif;
    margin: 0;
    padding: 30px;
  }

  h1 { font-size: 26px; margin-bottom: 20px; }

  /* ====== 預覽區 ====== */
  .preview-area {
    position: relative;
    width: 380px;
    height: 820px;
    background: black;
    border-radius: 10px;
    overflow: hidden;
  }

  .layer {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
  }

  /* 背景層 */
  .background-layer { z-index: 1; }

  /* 門扇比例固定：4.52 : 11.11 */
  .panel {
    position: absolute;
    left: 50%;
    top: 50%;
    height: 100%;
    width: calc(100% * 0.4068);
    transform: translate(-50%, -50%);
    background-size: cover;
    background-position: center;
    z-index: 2;
  }

  .inner-frame { z-index: 3; }
  .outer-frame { z-index: 4; }

  /* ===== UI ===== */
  .side-menu {
    margin-left: 40px;
    width: 400px;
  }

  .section-title { font-size: 20px; margin: 10px 0 6px; }

  .chip-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 18px;
  }

  .chip {
    padding: 6px 14px;
    background: #2b2f33;
    border-radius: 15px;
    cursor: pointer;
    transition: .15s;
  }

  .chip:hover { background: #444; }
  .chip.active { background: #ffd86c; color: #000; font-weight: bold; }

  .hidden-section { display: none; }
</style>
</head>

<body>

<h1>門框 × 門扇 Demo（背景在根目錄）</h1>

<div style="display:flex; gap:40px;">

  <!-- 左側 -->
  <div class="preview-area">
      <div id="backgroundLayer" class="layer background-layer"></div>
      <div id="panelLayer" class="layer panel"></div>
      <div id="innerFrameLayer" class="layer inner-frame"></div>
      <div id="outerFrameLayer" class="layer outer-frame"></div>
  </div>

  <!-- 右側選單 -->
  <div class="side-menu">

    <div class="section-title">背景</div>
    <div id="bgList" class="chip-list"></div>

    <div class="section-title">外框</div>
    <div id="outerFrameList" class="chip-list"></div>

    <div class="section-title">門扇</div>
    <div id="panelList" class="chip-list"></div>

  </div>

</div>

<script>

/* ===== 背景：在根目錄 ===== */
const backgrounds = ["1.jpg", "2.jpg", "3.jpg"];

/* ===== 外框 ===== */
const outerFrames = [
  "LU6001PP.png","LU6002PP.png","LU6003PP.png","LU6004.png",
  "LU6005.png","LU6006.png","LU6007.png","LU6008.png"
];

/* ===== 內框：自動同步 ===== */
const innerFrames = outerFrames;

/* ===== 門扇 ===== */
const panels = [
  "LH6015.jpg","LU6001PP.jpg","LU6002PP.jpg","LU6003PP.jpg"
];

/* ===== DOM ===== */
const backgroundLayer = document.getElementById("backgroundLayer");
const outerFrameLayer = document.getElementById("outerFrameLayer");
const innerFrameLayer = document.getElementById("innerFrameLayer");
const panelLayer = document.getElementById("panelLayer");

const bgList = document.getElementById("bgList");
const outerFrameList = document.getElementById("outerFrameList");
const panelList = document.getElementById("panelList");

/* ===== chip maker ===== */
function createChips(list, container, callback) {
  list.forEach(file => {
    const chip = document.createElement("div");
    chip.className = "chip";
    chip.innerText = file.replace(".png","").replace(".jpg","");

    chip.onclick = () => {
      container.querySelectorAll(".chip").forEach(c => c.classList.remove("active"));
      chip.classList.add("active");
      callback(file);
    };

    container.appendChild(chip);
  });
}

/* ===== 套背景 ===== */
function setBackground(file){
  backgroundLayer.style.backgroundImage = `url('./${file}')`;
}

/* ===== 套外框並同步內框 ===== */
function setOuterFrame(file){
  outerFrameLayer.style.backgroundImage = `url('./frame_patterns/${file}')`;
  innerFrameLayer.style.backgroundImage = `url('./frame_patterns2/${file}')`;
}

/* ===== 套門扇 ===== */
function setPanel(file){
  panelLayer.style.backgroundImage = `url('./panel_patterns/${file}')`;
}

/* ===== 初始化 ===== */
createChips(backgrounds, bgList, setBackground);
createChips(outerFrames, outerFrameList, setOuterFrame);
createChips(panels, panelList, setPanel);

/* ===== 預設 ===== */
setBackground(backgrounds[0]);
setOuterFrame(outerFrames[0]);
setPanel(panels[0]);

bgList.children[0].classList.add("active");
outerFrameList.children[0].classList.add("active");
panelList.children[0].classList.add("active");

</script>

</body>
</html>
